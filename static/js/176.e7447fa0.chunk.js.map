{"version":3,"file":"static/js/176.e7447fa0.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Users/Users.module.css?b9d0","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersPhoto\":\"Users_usersPhoto__Sb4o6\",\"selectedPage\":\"Users_selectedPage__QJo1h\"};","import React, {useEffect, useState} from 'react';\r\nimport s from \"../../Users/Users.module.css\";\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    onPageChanged: (p: number) => void\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n}\r\n\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n\r\n    const pageCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    const pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionSize = 10\r\n\r\n    const portionCount = Math.ceil(pageCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState<number>(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    useEffect(() => setPortionNumber(Math.ceil(props.currentPage / portionSize)), [props.currentPage]);\r\n\r\n    return (\r\n        <div>\r\n            {portionNumber > 1\r\n                ? <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>\r\n                : <button disabled>PREV</button>\r\n            }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <button key={p}\r\n                                   onClick={() => {\r\n                                       props.onPageChanged(p)\r\n                                   }}\r\n                                   className={props.currentPage === p ? s.selectedPage : ''}\r\n                    >\r\n                        {p}\r\n                    </button>\r\n                })}\r\n            {portionCount > portionNumber\r\n                ? <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>\r\n                : <button disabled>PREV</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../img/1.png\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\n\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    followingInProgress: string[]\r\n    toggleFollowingProgress: (followingInProgress: boolean, id: string) => void\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n}\r\nexport const User = (props: UserPropsType) => {\r\n    return (\r\n        <div key={props.user.id}>\r\n            <span>\r\n                <div>\r\n                   <NavLink to={`/profile/${props.user.id}`}>\r\n                        <img className={s.usersPhoto}\r\n                             src={props.user.photos.small ? props.user.photos.small : userPhoto}\r\n                             alt=\"user avatar\"\r\n                        />\r\n                   </NavLink>\r\n                </div>\r\n                <div>\r\n                     <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                             onClick={() => {\r\n                                 props.toggleFollowingProgress(true, props.user.id)\r\n                                 !props.user.followed ? props.follow(props.user.id) : props.unfollow(props.user.id)\r\n                             }\r\n                             }>\r\n                     {!props.user.followed ? 'subscribed' : 'unsubscribed'}\r\n                     </button>\r\n                                    </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                     <div>{props.user.name}</div>\r\n                     <div>{props.user.status}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    onPageChanged: (p: number) => void\r\n    currentPage: number\r\n    users: UserType[]\r\n    subscriptionChange: (id: string) => void\r\n    toggleFollowingProgress: (followingInProgress: boolean, id: string) => void\r\n    followingInProgress: string[]\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n}\r\n\r\nexport const Users = React.memo((props: UsersPropsType) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator pageSize={props.pageSize}\r\n                       totalUsersCount={props.totalUsersCount}\r\n                       onPageChanged={props.onPageChanged}\r\n                       currentPage={props.currentPage}/>\r\n            {props.users.map(u => {\r\n                return (\r\n                    <User key={u.id}\r\n                          user={u}\r\n                          followingInProgress={props.followingInProgress}\r\n                          toggleFollowingProgress={props.toggleFollowingProgress}\r\n                          follow={props.follow}\r\n                          unfollow={props.unfollow}\r\n                    />\r\n                )\r\n            })}\r\n        </div>\r\n    );\r\n})\r\n\r\n","import {StoreType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state: StoreType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state: StoreType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: StoreType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: StoreType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: StoreType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: StoreType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {StoreType} from \"../../redux/redux-store\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    subscriptionChange,\r\n    toggleFollowingProgress,\r\n    unfollow,\r\n    UserType\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype mapStateToProps = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    subscriptionChange: (id: string) => void\r\n    toggleFollowingProgress: (followingInProgress: boolean, id: string) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n    //setCurrentPage: (page: number) => void\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n}\r\n\r\n\r\nexport type UsersPropsType = mapStateToProps & mapDispatchToPropsType\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType, StoreType> {\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (page: number) => {\r\n        //this.props.setCurrentPage(page)\r\n        this.props.requestUsers(page, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (<>\r\n                {\r\n                    (this.props.isFetching\r\n                        ? <Preloader/>\r\n                        : <Users\r\n                            pageSize={this.props.pageSize}\r\n                            totalUsersCount={this.props.totalUsersCount}\r\n                            onPageChanged={this.onPageChanged}\r\n                            currentPage={this.props.currentPage}\r\n                            users={this.props.users}\r\n                            followingInProgress={this.props.followingInProgress}\r\n                            subscriptionChange={this.props.subscriptionChange}\r\n                            toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                            follow={this.props.follow}\r\n                            unfollow={this.props.unfollow}\r\n                        />)\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: StoreType): mapStateToProps => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        subscriptionChange,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        requestUsers,\r\n        follow,\r\n        unfollow,\r\n    }),\r\n    //withAuthRedirectComponent\r\n)(UsersContainer)","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["Paginator","props","pageCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","currentPage","onClick","disabled","filter","p","map","onPageChanged","className","s","User","to","user","id","src","photos","small","userPhoto","alt","followingInProgress","some","toggleFollowingProgress","followed","unfollow","follow","name","status","Users","React","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","page","requestUsers","this","Preloader","subscriptionChange","compose","connect","setCurrentPage","_slicedToArray","arr","Array","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","length","err","unsupportedIterableToArray","TypeError"],"sourceRoot":""}